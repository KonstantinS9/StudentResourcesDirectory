@using StudentResourcesDirectory.ViewModels.StudentViewModels
@model StudentDetailsViewModel

@{
    ViewData["Title"] = "Student Details";
}

<div class="container mt-5">

    <!-- Student Header -->
    <div class="text-center mb-5">
        <h1 class="fw-bold">@Model.FirstName @Model.LastName</h1>
        <p class="text-muted">Student Profile</p>
    </div>

    <!-- Student Info Card -->
    <div class="row justify-content-center">
        <div class="col-md-6">

            <div class="card shadow-sm p-4 student-details-card">

                <p><strong>🎓 Faculty Number:</strong> @Model.FacultyNumber</p>
                <p><strong>📧 Email:</strong> @Model.Email</p>
                <p><strong>🗓 Registered On:</strong> @Model.RegisteredOn.ToString("dd.MM.yyyy")</p>

                <div class="mt-4 text-center">
                    <a asp-action="Index" class="btn btn-secondary me-2">Back to Students</a>
                    <a asp-controller="Student"
                       asp-action="ViewResources"
                       asp-route-studentId="@Model.Id"
                       class="btn btn-primary">
                        View Resources
                    </a>
                </div>

            </div>

        </div>
    </div>

    <!-- Student Resources -->
    @if (Model.Resources != null && Model.Resources.Any())
    {
        <div class="mt-5">
            <h3 class="mb-4 text-center gradient-text">📚 Resources by @Model.FirstName</h3>
            <div class="row g-4">
                @foreach (var resource in Model.Resources)
                {
                    <div class="col-md-6 col-lg-4">
                        <div class="card resource-card h-100 shadow-sm border-0 p-3">

                            <div class="mb-2">
                                <span class="badge bg-gradient">
                                    @resource.ResourceType
                                </span>
                            </div>

                            <h5 class="fw-bold mb-2">@resource.Title</h5>
                            <p class="small text-secondary mb-1">@resource.Description</p>
                            <p class="small text-secondary mb-2">
                                📂 @(resource.Category != null ? resource.Category.Name : "No category")
                            </p>

                            <a href="@resource.Url" target="_blank" class="btn btn-outline-primary w-100">
                                Open Resource
                            </a>

                        </div>
                    </div>
                }
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-info mt-5 text-center">
            This student has no resources yet.
        </div>
    }

</div>